{% extends "./base.html" %}
{% block title %} My Profile {% endblock  %}
{%load static %}
{{ user }}
{{ task }}
{% block content %}
{% if  user.is_authenticated %}

<div class="container">
    <main class="pt-5">
        <div class="row g-3">
            <div class="col-md-4 col-lg-12 order-md-first " >
                <img class="img-fluid mx-auto d-block zoom  bigimg"   alt="Responsive image" src="{{ user.img.url }}">
            </div>

                <table class="table  table-bordered table-light table-hover">
          
                    <thead class="table bgprofile">
                    <tr>
                      
                      <th class="d-flex justify-content-center" scope="col  ">My Informations </th>
                    </tr>
                    </thead>                               
                  </table>
                <table class="table  table-bordered table-light table-hover">
          
                    <thead class="table bgprofile">
                    <tr>
                      
                      <th scope="col">My Fullname</th>
                      <th scope="col">My Role:</th>
                      <th scope="col">My E-mail:</th>
 
                    </tr>
                    </thead>
                   
                    
                    <tbody>
                      
                      <tr>
                        
                            
                        
                            
                        <td  style="width: 30%"><h6 class="text-dark">{{ user.firstname }} {{user.lastname}}</h6></td>
                        <td style="width: 30%"><h6 class="text-dark">{% if user.is_manager  and user.is_staff %}
                            Manager, Staff
                            {% endif %}
                            {% if user.is_staff and not user.is_manager %}
                            Staff
                            {% endif %} </h6></td>
                        <td style="width: 30%"><h6 class="text-dark"> {{ user.email }}</h6></td>
                    </tr>
                        
      
                  </table>

                <table class="table  table-bordered table-light table-hover">
          
                    <thead class="table bgprofile">
                    <tr>
                      
                      <th scope="col">My Birthdate</th>
                      <th scope="col">My Phonenum:</th>
                      <th scope="col">My CIN:</th>
                      <th scope="col">My Team:</th>

                    </tr>
                    </thead>
                   
                    
                    <tbody>
                      
                      <tr>
                        
                        <td  style="width: 30%"><h6 class="text-dark">{{ user.birthdate }}</h6></td>
                        <td style="width: 30%"><h6 class="text-dark">{{ user.phonenum }} </h6></td>
                        <td style="width: 30%"><h6 class="text-dark"> {{ user.CIN }} </h6></td>
                        <td style="width: 30%"><h6 class="text-dark"> {{ user.team }} </h6></td>
                    </tr>
                   
      
                  </table>
                  <table class="table  table-bordered table-light table-hover">
          
                    <thead class="table bgprofile">
                    <tr>
                      
                      <th scope="col">My Project:</th>
                      <th scope="col">My Tasks:</th>
                      <th scope="col">Start Date</th>
                      <th scope="col">Final Date</th>
                      <th scope="col">Done</th>

                    </tr>
                    </thead>
                   
                    
                    <tbody>
                      {% for task in task %}
                      <tr>
                        
                        
                        <td style="width: 30%"><h6 class="text-dark"> {{ task.Project_name }} </h6></td>
                        <td style="width: 30%"><h6 class="text-dark"> {{ task.T_name }} </h6></td>
                        <td style="width: 30%"><h6 class="text-dark"> {{ task.Start_D }} </h6></td>
                        <td style="width: 30%"><h6 class="text-dark"> {{ task.Final_D }} </h6></td>
                        {% if task.is_done  %}
                        <td style="width: 10%"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-check-square-fill bg-success " viewBox="0 0 16 16">
                          <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm10.03 4.97a.75.75 0 0 1 .011 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.75.75 0 0 1 1.08-.022z"/>
                        </svg></td> 
                        {% else %}
                        <td style="width: 10%"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-x-square-fill bg-danger" viewBox="0 0 16 16">
                          <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.354 4.646L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708z"/>
                        </svg></td>
                        {% endif %}                        {% endfor %}     
                        
                                             </tr>
                   
      
                  </table> 
                  {% else %}
                  <h1 class="text-light text-center">Login To Access The Page</h1>  
                  <a  class="text-light text-center pb-3" href="{% url "users:login"%}" >Login</a>       
                  {% endif %} 
            </div>
        </div>
    </main>

</div>
{% endblock %}